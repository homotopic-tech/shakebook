name:                shakebook
version:             0.4.0.0
license:             MIT
category:            Web
author:              "Daniel Firth"
maintainer:          "dan.firth@homotopic.tech"
copyright:           "2020 Daniel Firth"

extra-source-files:
- README.md
- ChangeLog.md

synopsis:            Shake-based technical documentation generator; HTML & PDF
description: >
   Shakebook is a documentation generator aimed at covering all the bases for
   mathematical, technical and scientific diagrams and typesetting. Shakebook
   provides combinators for taking markdown files and combining them into
   documents, but allowing the user to control how. Shakebook provides general
   combinators for templating single pages, cofree comonads for representing
   tables of contents, and zipper comonads for representing pagers.

default-extensions:
- BangPatterns
- BinaryLiterals
- ConstraintKinds
- DataKinds
- DefaultSignatures
- DeriveDataTypeable
- DeriveFoldable
- DeriveFunctor
- DeriveGeneric
- DeriveTraversable
- DoAndIfThenElse
- EmptyDataDecls
- ExistentialQuantification
- FlexibleContexts
- FlexibleInstances
- FunctionalDependencies
- GADTs
- GeneralizedNewtypeDeriving
- InstanceSigs
- KindSignatures
- LambdaCase
- MultiParamTypeClasses
- MultiWayIf
- NamedFieldPuns
- NoImplicitPrelude
- OverloadedStrings
- PartialTypeSignatures
- PatternGuards
- PolyKinds
- RankNTypes
- RecordWildCards
- ScopedTypeVariables
- StandaloneDeriving
- TupleSections
- TypeFamilies
- TypeSynonymInstances
- ViewPatterns

ghc-options:
- -Wall
- -Wcompat
- -Wincomplete-record-updates
- -Wincomplete-uni-patterns
- -Wredundant-constraints

library:
  source-dirs: src

executables:
  shakebook-simple-blog:
    main:             Main.hs
    source-dirs:      app
    ghc-options:
    - -threaded
    - -rtsopts
    - -with-rtsopts=-N
    dependencies:
    - optparse-applicative
    - shakebook

tests:
  shakebook-test:
    main:             Spec.hs
    source-dirs:      test
    ghc-options:
    - -threaded
    - -rtsopts
    - -with-rtsopts=-N
    dependencies:
    - hashable-time
    - shakebook
    - tasty
    - tasty-golden

dependencies:
- aeson
- aeson-with
- base >= 4.7 && < 5
- comonad
- comonad-extras
- doctemplates
- extra
- feed
- free
- ixset-typed
- lens
- lens-aeson
- mustache
- relude
- rio
- pandoc
- pandoc-types
- path-extensions
- shake-plus
- slick
- split
- text-time
- zipper-extra
